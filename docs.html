<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Pink - Single Page App framework</title>
        <meta name="description" content="">
        <meta name="author" content="ink, cookbook, recipes">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

        <link rel="stylesheet" type="text/css" href="content/css/ink.css">
        <link rel="stylesheet" type="text/css" href="content/css/docs.css">
        <link rel="stylesheet" type="text/css" href="libs/prettify/prettify.css">
        <link rel="stylesheet" type="text/css" href="libs/prettify/themes/ghink.css">

        <script type="text/javascript" src="libs/ink-all.js"></script>
        <script type="text/javascript" src="libs/prettify/prettify.js"></script>
    </head>

    <body>
        <div class="ink-grid">
            <!--[if lte IE 9 ]>
            <div class="ink-alert basic">
                <button class="ink-dismiss">&times;</button>
                <p>
                    <strong>You are using an outdated Internet Explorer version.</strong>
                    Please <a href="http://browsehappy.com/">upgrade to a browser</a> to improve your web experience.
                </p>
            </div>
            -->

            <header id="mainMenu" class="vertical-space">
                <h1><a href="index.html"><img src="content/img/logo-small.png" height="50" alt=""></a><small>Single page app framework</small></h1>
                <nav class="ink-navigation quarter-top-space">
                    <ul class="menu horizontal black">
                        <li><a href="get-started.html">Get started</a></li>
                        <li class="active"><a href="#">Docs</a></li>
                        <li><a href="samples.html">Sample apps</a></li>
                        <li><a href="http://github.com/rcarmo/pink" target="_blank">GitHub</a></li>
                    </ul>
                </nav>
            </header>
            
            <div id="docsContainer" class="column-group gutters large-100">
                <div id="docMenu">
                    <h2>Documentation</h2>
                    <nav>
                        <ol>
                            <li>
                               <a href="#app">Pink application interface</a>
                               <ol>
                                   <li>
                                       <a href="#appAttributes" class="sub-menu" data-target="#appAttributesMenu">Attributes</a>
                                       <ol id="appAttributesMenu" class="hide-all">
                                           <li><a href="#modalModule">modalModule</a></li>
                                           <li><a href="#alertModule">alertModule</a></li>
                                           <li><a href="#infoModule">infoModule</a></li>
                                           <li><a href="#rootRoute">rootRoute</a></li>
                                           <li><a href="#undefinedRoute">undefinedRoute</a></li>
                                           <li><a href="#mainModule">mainModule</a></li>
                                           <li><a href="#definedRoutes">definedRoutes</a></li>
                                       </ol>
                                   </li>
                                   <li>
                                       <a href="#appMethods" class="sub-menu" data-target="#appMethodsMenu">Methods</a>
                                       <ol id="appMethodsMenu" class="hide-all">
                                           <li><a href="#showInfoToast">showInfoToast</a></li>
                                           <li><a href="#showErrorToast">showErrorToast</a></li>
                                           <li><a href="#showSuccessToast">showSuccessToast</a></li>
                                           <li><a href="#showModalWindow">showModalWindow</a></li>
                                           <li><a href="#showMiniModalWindow">showMiniModalWindow</a></li>
                                           <li><a href="#showSmallModalWindow">showSmallModalWindow</a></li>
                                           <li><a href="#showLargeModalWindow">showLargeModalWindow</a></li>
                                           <li><a href="#showConfirm">showConfirm</a></li>
                                           <li><a href="#showInfoBox">showInfoBox</a></li>
                                           <li><a href="#showStandby">showStandby</a></li>
                                           <li><a href="#hideStandby">hideStandby</a></li>
                                           <li><a href="#listVisibleRoutes">listVisibleRoutes</a></li>
                                           <li><a href="#listInvisibleRoutes">listInvisibleRoutes</a></li>
                                           <li><a href="#addVisibleRoute">addVisibleRoute</a></li>
                                           <li><a href="#addInvisibleRoute">addInvisibleRoute</a></li>
                                           <li><a href="#addCustomSignals">addCustomSignals</a></li>
                                           <li><a href="#navigateTo">navigateTo</a></li>
                                           <li><a href="#navigateToStart">navigateToStart</a></li>
                                           <li><a href="#listPluginModules">listPluginModules</a></li>
                                           <li><a href="#run">run</a></li>
                                           <li><a href="#ready">ready</a></li>
                                       </ol>
                                   </li>
                               </ol>
                            </li>
                            <li><a href="#routing">Routing</a></li>
                            <li><a href="#signals">Signals</a></li>
                            <li>
                               <a href="#uiModules" class="sub-menu" data-target="#uiModulesMenu">UI Modules</a>
                               <ol id="uiModulesMenu" class="hide-all">
                                    <li><a href="#modules">Custom modules</a></li>
                                    <li><a href="#modalwindow">ModalWindow</a></li>
                                    <li><a href="#grid">Grid</a></li>
                                    <li><a href="#paginator">Paginator</a></li>
                                    <li><a href="#autocomplete">AutoComplete</a></li>
                                    <li><a href="#tooltip">Tooltip</a></li>
                                    <li><a href="#dragdrop">Drag&Drop</a></li>
                                    <li><a href="#kanban">Kanban</a></li>
                               </ol>
                            </li>
                            <li><a href="#plugins">Plugins</a></li>
                        </ol>
                    </nav>
                </div>
                <div id="docArea">
                    <article class="docs-article">
                        <a id="app"></a>
                        <header>
                            <h2 class="push-left">Application Interface</h2>
                        </header>
                        <summary>
                            The main module of every Pink application must inherit its prototype from the <code>Ink.App</code> module.
                            The app's modules should require this module in their dependencies to access the framework's public interface.
                        </summary>
                        <br>
                        <h4><em>Attributes</em></h4>
                        <ul class="unstyled">
                            <li>
                                <a id="modalModule"></a>
                                <strong>modalModule : object</strong><br>
                                <div class="details">
		                            Exposes a generic modal viewmodel for databinding, usually used in the application main layout.
                                    Must be bound to a DOM element for the app's <code>showModalWindow</code> method to work.
		                            
		                            <pre class="prettyprint lang-js">&lt;div data-bind="module: app.modalModule"&gt;&lt;/div&gt;</pre>
	                            </div>
                            </li>
                            <li>
                                <a id="alertModule"></a>
                                <strong>alertModule : object</strong><br>
                                <div class="details">
	                                Exposes a confirm modal viewmodel for databinding, usually used in the application main layout.
                                    Must be bound to a DOM element for the app's <code>showConfirm</code> method to work.
	                                
	                                <pre class="prettyprint lang-js">&lt;div data-bind="module: app.alertModule"&gt;&lt;/div&gt;</pre>
	                            </div>
                            </li>
                            <li>
                                <a id="infoModule"></a>
                                <strong>infoModule : object</strong><br>
                                <div class="details">
	                                Exposes an informative modal viewmodel for databinding, usually used in the application main layout.
                                    Must be bound to a DOM element for the app's <code>showInfoBox</code> method to work.
	                                
	                                <pre class="prettyprint lang-js">&lt;div data-bind="module: app.infoModule"&gt;&lt;/div&gt;</pre>
	                            </div>
                            </li>
                            <li>
                                <a id="rootModule"></a>
                                <strong>rootRoute : string</strong><br>
                                <div class="details">
                                    The default route to show when the app is loaded, or the url fragment is empty.
                                </div> 
                            </li>
                            <li>
                                <a id="undefinedRoute"></a>
                                <strong>undefinedRoute : string</strong><br>
                                <div class="details">
                                    The route to show when there's an non existent route on the url fragment.
                                </div>
                            </li>
                            <li>
                                <a id="mainModule"></a>
                                <strong>mainModule: object</strong><br>
                                <div class="details">
	                                Exposes the active route's module (taken from the url fragment) for databinding, usually used in the application main layout.
	                                Must be bound to a DOM element.
	                                
	                                <pre class="prettyprint lang-js">&lt;section data-bind="module: mainModule"/&gt;</pre>
	                            </div>
                            </li>
                            <li>
                                <a id="definedRoutes"></a>
                                <strong>definedRoutes: object</strong><br>
                                <div class="details">
                                    Exposes the application's defined routing parameters for databinding, usually used in the application main menu.
                                    
                                        <pre class="prettyprint lang-js">
 &lt;ul id="mainMenuDropDown" class="menu vertical white"&gt;
     &lt;!-- ko foreach:  definedRoutes.visibleRoutes --&gt;
         &lt;li data-bind="css: { active: isActive }"&gt;
             &lt;a data-bind="attr: { href: '#'+hash }, html: caption"&gt;&lt;/a&gt;
         &lt;/li&gt;
     &lt;!-- /ko --&gt;
 &lt;/ul&gt;</pre>
                                </div>
                        </ul>

                        <br>
                        <h4><em>Methods</em></h4>
                        <ul class="unstyled">
                            <li>
                                <a id="showInfoToast"></a>
                                <strong>showInfoToast(message) : void</strong><br>
                                <div class="details">
                                    Shows a temporary notification panel in the UI for information purposes.<br>
                                    <em>Note: The app's DOM must have an element with an id <code>toastPanel</code>, usually in the main layout.</em>
                                    <pre class="prettyprint lang-js">app.showInfoToast('Hello there!');</pre>
                                </div>
                            </li>
                            <li>
                                <a id="showErrorToast"></a>
                                <strong>showErrorToast(message) : void</strong><br>
                                <div class="details">
                                    Shows a temporary notification panel in the UI for application error purposes.<br>
                                    <em>Note: The app's DOM must have an element with an id <code>toastPanel</code>, usually in the main layout.</em>
                                    <pre class="prettyprint lang-js">app.showErrorToast('Oops, an error occurred :(');</pre>
                                </div>
                            </li>
                            <li>
                                <a id="showSuccessToast"></a>
                                <strong>showSuccessToast(message) : void</strong><br>
                                <div class="details">
                                    Shows a temporary notification panel in the UI to notify the user that some action completed with success.<br>
                                    <em>Note: The app's DOM must have an element with an id <code>toastPanel</code>, usually in the main layout.</em>
                                    <pre class="prettyprint lang-js">app.showErrorToast('Document saved');</pre>
                                </div>
                            </li>
                            <li>
                                <a id="showModalWindow"></a>
                                <strong>showModalWindow(title, moduleName, params, modalStyle) : void</strong><br>
                                <div class="details">
	                                <ul>
	                                    <li><strong>title</strong> - string containing the modal's title</li>
	                                    <li><strong>moduleName</strong> - string containing a valid Pink UI module name</li>
	                                    <li><strong>params</strong> - object with the parameters to pass to the module</li>
                                        <li><strong>modalStyle</strong> - object with modal window style parameters<br> <code class="prettify lang-js">{width : string, height : string, cancelVisible : bool, confirmCaption : string}</code></li> 
	                                </ul>
                                    Shows a modal window with a custom module in the contents area.<br><br>
                                    <em>Note: See the <code>modalModule</code> attribute</em>
                                    <pre class="prettyprint lang-js">app.showModalWindow('Edit item', 'App.Item.Edit', {item: item}, {width: '600px', height: '400px'});</pre>                                    
                                </div>
                            </li>                            
                            <li>
                                <a id="showMiniModalWindow"></a>
                                <strong>showMiniModalWindow(title, moduleName, params, modalStyle) : void</strong><br>
                                <div class="details">
                                    Shows a mini modal window with a custom module in the contents area.<br><br>
                                    <em>Note: See <code>showModalWindow</code> for details and example usage</em>
                                </div>
                            </li>                            
                            <li>
                                <a id="showSmallModalWindow"></a>
                                <strong>showSmallModalWindow(title, moduleName, params, modalStyle) : void</strong><br>
                                <div class="details">
                                    Shows a small modal window with a custom module in the contents area.<br><br>
                                    <em>Note: See <code>showModalWindow</code> for details and example usage</em>
                                </div>
                            </li>                            
                            <li>
                                <a id="showLargeModalWindow"></a>
                                <strong>showLargeModalWindow(title, moduleName, params, modalStyle) : void</strong><br>
                                <div class="details">
                                    Shows a large modal window with a custom module in the contents area.<br><br>
                                    <em>Note: See <code>showModalWindow</code> for details and example usage</em>
                                </div>
                            </li>
                            <li>
                                <a id="showConfirm"></a>
                                <strong>showConfirm(title, message, confirmCallback, cancelCallback) : void</strong>
                                <div class="details">
	                                <ul>
	                                    <li><strong>title</strong> - string containing the modal's title</li>
	                                    <li><strong>message</strong> - string with the message for the user</li>
	                                    <li><strong>confirmCallback</strong> - function to be called if the user confirms the action</li>
	                                    <li><strong>cancelCallback</strong> - function to be called if the user cancels the action</li> 
	                                </ul>
                                    Shows a modal window for the user to respond to a confirm action.
                                    <pre class="prettyprint lang-js">app.showConfirm('Please confirm...', 'Remove the item?', confirmHandler, cancelHandler);</pre>                                    
                                </div>
                            </li>
                            <li>
                                <a id="showInfoBox"></a>
                                <strong>showInfoBox(title, message) : void</strong>
                                <div class="details">
                                    <ul>
                                        <li><strong>title</strong> - string containing the modal's title</li>
                                        <li><strong>message</strong> - string with the message for the user</li>
                                    </ul>
                                    Shows a modal window with a simple message.
                                    <pre class="prettyprint lang-js">app.showInfoBox('User info', 'Here is some extra info');</pre>                                    
                                </div>
                            </li>
                            <li>
                                <a id="showStandby"></a>
                                <strong>showStandby() : void</strong>
                                <div class="details">
                                    Shows a standby panel that disables user input.<br><br>
                                    <em>Note: There must exist a DOM element with the id <code>standbyLightBox</code> for this method to work</em>
                                </div>
                            </li>                            
                            <li>
                                <a id="hideStandby"></a>
                                <strong>hideStandby() : void</strong>
                                <div class="details">
                                    Hides the standby panel.<br><br>
                                    <em>Note: There must exist a DOM element with the id <code>standbyLightBox</code> for this method to work</em>
                                </div>
                            </li>
                            <li>
                                <a id="listVisibleRoutes"></a>
                                <strong>listVisibleRoutes() : array</strong>
                                <div class="details">
                                    This method should be overriden by the application main module, to return the routes to be 
                                    rendered in the main application menu.
                                    
                                        <pre class="prettyprint lang-js">
 Module.prototype.listVisibleRoutes = function() {
     return [
       {isActive: ko.observable(true), caption: 'To-do', hash: 'todo', module: 'App.Tasks.Home', arguments: {filter: 'todo'}},
       {isActive: ko.observable(false), caption: 'Incomplete', hash: 'incomplete', module: 'App.Tasks.Home', arguments: {filter: 'incomplete'}},
       {isActive: ko.observable(false), caption: 'Completed', hash: 'completed', module: 'App.Tasks.Home', arguments: {filter: 'complete'}}
     ];
 };</pre>
                                </div>
                            </li>
                            <li>
                                <a id="listInvisibleRoutes"></a>
                                <strong>listInvisibleRoutes() : array</strong>
                                <div class="details">
                                    This method should be overriden by the application main module, to return the routes not visible
                                    in the application's main menu.
                                    
                                        <pre class="prettyprint lang-js">
 Module.prototype.listInvisibleRoutes = function() {
     return [
       {hash: 'users\\?search=:search', module: 'App.Example.ListUsers', parentModule: 'App.Example.ListUsers'}
     ];
 };</pre>
                                    
                                        <em>Note: If the invisible route's <code>parentModule</code> attribute is defined, it's used to set the parent module's route active flag to <code>true</code>.</em>
                                </div>
                            </li>
                            <li>
                                <a id="addVisibleRoute"></a>
                                <strong>addVisibleRoute(route) : void</strong>
                                <div class="details">
								    Allows a plugin to add a new visible route.
								    The plugin should call this method on its initialization code

                                        <pre class="prettyprint lang-js">app.addVisibleRoute({isActive: ko.observable(false), caption: 'Export', hash: 'export', module: 'App.Tasks.Plugins.Export'})</pre>
                                </div>
                            </li>
                            <li>
                                <a id="addInvisibleRoute"></a>
                                <strong>addInvisibleRoute(route) : void</strong>
                                <div class="details">
                                    Allows a plugin to add a new invisible route.
                                    The plugin should call this method on its initialization code

                                        <pre class="prettyprint lang-js">app.addInvisibleRoute({caption: 'Export item', hash: 'export\\?item=:item', module: 'App.Tasks.Plugins.ExportItem'})</pre>
                                </div>
                            </li>
                            <li>
                                <a id="addCustomSignals"></a>
                                <strong>addCustomSignals() : void</strong>
                                <div class="details">
                                    Should be overriden in the application's main module, to define custom client side events for application UI logic.
                                    
                                        <pre class="prettyprint lang-js">
 Module.prototype.addCustomSignals = function() {
     this.signals.taskAdded = new Signal();
     this.signals.taskUpdated = new Signal();
 };
                                        </pre>
                                </div>
                            </li>
                            <li>
                                <a id="navigateTo"></a>
                                <strong>navigateTo(path, options) : void</strong>
                                <div class="details">
                                    <ul>
                                        <li><strong>path</strong> - string with url fragement</li>
                                        <li><strong>options</strong> - object <code>{silent: bool}</code> allows to change the url without the routing logic</li>
                                    </ul>
                                    Instructs the router to navigate to a new route inside the app.

                                    <pre class="prettyprint lang-js">app.navigateTo('#home');</pre>                                    
                                </div>
                            </li>
                            <li>
                                <a id="navigateToStart"></a>
                                <strong>navigateToStart() : void</strong>
                                <div class="details">
                                    Instructs the router to navigate to the route defined in the <code>rootRoute</code> attribute.

                                    <pre class="prettyprint lang-js">app.navigateToStart();</pre>                                    
                                </div>
                            </li>
                            <li>
                                <a id="listPluginModules"></a>
                                <strong>listPluginModules() : array</strong>
                                <div class="details">
                                    Should be overriden by the apps main module to return an array with the names of the modules to be loaded on the app's bootstrap.
                                </div>
                            </li>
                            <li>
                                <a id="run"></a>
                                <strong>run() : void</strong>
                                <div class="details">
                                    Must be called on the main page to start the application bootstrap process.
                                    
                                        <pre class="prettyprint lang-js">
 &lt;script type="text/javascript"&gt;
     Ink.requireModules(['App.Tasks'], function(app) {
         app.run();
     });        
 &lt;/script&gt; </pre>
                                </div>
                            </li>
                            <li>
                                <a id="ready"></a>
                                <strong>ready() : void</strong>
                                <div class="details">
       					            Override this method to add your own custom initialization logic.
                                    If you override this method, you must call <code>start()</code> when ready.
                                    
                                        <pre class="prettyprint lang-js">
 Module.prototype.ready = function() {
     var self=this;
     
     Ink.requireModules(['App.Images.View'], function() {
         self.start();
     });
 }; </pre>
                                </div>
                            </li>
                        </ul>
                    </article>
                    <article>
                        <a id="routing"></a>
                        <header>
                            <h2 class="push-left">Routing</h2>
                        </header>
                        <p>
                            Pink provides a hash based routing module (Routie), that is used to manage the view change logic.
                            The routing callback infers what is the active module from the window url hash fragment by looking at the application's defined visible and invisible routes.
                        </p>
                        <p>
                        All routes have a <code>hash</code> attribute that can be parameterized (eg. for invisible routes), a <code>module</code> attribute with the name of the
                        Pink UI module to load, and an optional <code>arguments</code> attribute that can contain extra options to pass to the module.
                        </p>
                        <p>
                            The visible routes, should be used in the application layout module, to build a menu, by binding to the app's 
                            <a href="#definedRoutes"><code>definedRoutes.visibleRoutes</code></a> attribute. They can be defined in the app's 
                            <a href="#listVisibleRoutes"><code>listVisibleRoutes</code></a> method, or by calling 
                            the <a href="#addVisibleRoute"><code>addVisibleRoute</code></a> method.
                        </p>
                        <p>
                            The visible route has two aditional attributes named 'isActive' and 'caption, that indicate what should be the selected menu option,
                            and the menu item's caption respectively.
                        </p>
                        <p>
                        The invisible routes, defined in the app's <a href="#listInvisibleRoutes"><code>listInvisibleRoutes</code></a>, or by calling the
                        <a href="#addInvisibleRoute"><code>addInvisibleRoute</code></a> method, allow the definition of parameterized routes eg:
                                <pre class="prettyprint lang-js">
 {hash: 'users\\?search=:search', module: 'App.Example.ListUsers', parentModule: 'App.Example.ListUsers'}
                                </pre>
                            In this example,for the route to match, the defined hash must have a search term, that is passed to the module's options.
                        </p>
                        <p>
                        In addition, the invisible route can provide an optional <code>parentModule</code> attribute, that tells the framework what should be the selected menu option relating to this route. 
                        </p>                    
                        <p>
                        The routing callback is also responsible for updating the app's <a href="#mainModule"><code>mainModule</code></a> attribute with the module's name and parameters, notifing the "module" binding handler to reload.
                        </p>
                        <p>
                            The module parameters are passed as an object to the module's constructor or to module's "activate" method, in case of a class or static module respectively.
                        </p>                            
                    </article>
                    <article>
                        <a id="signals"></a>
                        <header>
                            <h2 class="push-left">Signals</h2>
                        </header>
                        <p>This section is forthcoming.</p>
                    </article>
                    <article>
                        <a id="modules"></a>
                        <header>
                            <h2 class="push-left">Custom Modules</h2>
                        </header>
                        <p>This section is forthcoming.</p>
                    </article>
                    <article>
                        <a id="modalwindow"></a>
                        <header>
                            <h2 class="push-left">ModalWindow</h2>
                        </header>
                        <p>This section is forthcoming.</p>
                    </article>
                    <article>
                        <a id="grid"></a>
                        <header>
                            <h2 class="push-left">Grid</h2>
                        </header>
                        <p>This section is forthcoming.</p>
                    </article>
                    <article>
                        <a id="paginator"></a>
                        <header>
                            <h2 class="push-left">Paginator</h2>
                        </header>
                        <p>This section is forthcoming.</p>
                    </article>
                    <article>
                        <a id="autocomplete"></a>
                        <header>
                            <h2 class="push-left">AutoComplete</h2>
                        </header>
                        <p>This section is forthcoming.</p>
                    </article>
                    <article>
                        <a id="tooltip"></a>
                        <header>
                            <h2 class="push-left">ToolTip</h2>
                        </header>
                        <p>This section is forthcoming.</p>
                    </article>
                    <article>
                        <a id="dragdrop"></a>
                        <header>
                            <h2 class="push-left">Drag & Drop</h2>
                        </header>
                        <p>This section is forthcoming.</p>
                    </article>
                    <article>
                        <a id="kanban"></a>
                        <header>
                            <h2 class="push-left">Kanban</h2>
                        </header>
                        <p>This section is forthcoming.</p>
                    </article>
                    <article>
                        <a id="plugins"></a>
                        <header>
                            <h2 class="push-left">Plugins</h2>
                        </header>
                        <p>This section is forthcoming.</p>
                    </article>
                </div>
            </div>
        </div>
        
		<script>
		    Ink.requireModules( ['Ink.UI.Sticky_1', 'Ink.UI.Toggle_1', 'Ink.Util.Array_1'], function( Sticky, Toggle, InkArray) {
		    	InkArray.forEach(Ink.ss('.sub-menu'), function(element) {
	                new Toggle(element);
		    	});
	    	    new Sticky('#docMenu', {inlineDimensions: true});
		    });
		</script>        
    </body>
</html>
